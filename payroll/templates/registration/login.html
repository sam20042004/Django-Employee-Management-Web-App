{% extends 'index.html' %} 
{% load static%} 
{% load crispy_forms_tags %}
{% block body %} 
{% if form.errors%}
<div class="alert alert-danger alert-dismissible fade show" role="alert">
  <p>{{ form.non_field_errors }}</p>
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
{%endif%}
<link
  rel="stylesheet"
  href="{%static 'css/login.css'%}"
  type="text/css"
  media="all"
/>

<!-- Main css -->
<link rel="stylesheet" href="{%static 'css/lin.css'%}" />

<section class="sign-in">
  <div class="container">
    <div class="signin-content">
      <div class="signin-image">
        <figure>
          <img
            src="{%static 'images/signin-image.jpg'%}"
            alt="sing up image"
          />
        </figure>
        <a href="{%url 'hr_signup'%}" class="signup-image-link"
          >Register your company</a
        >
      </div>

      <div class="signin-form">
        <h2 class="form-title">Login</h2>
        <form method="POST" class="register-form" id="login-form">
          {% csrf_token%}
          <div class="form-group">{{form.label}} {{form.username}}</div>
          <div class="form-group">
            <label for="your_pass"></label>
            {{form.label}} {{form.password}}
          </div>
          
          <div class="form-button">
            <button type="submit" class="btn btn-primary btn-lg btn-block form-button">
              Log In
            </button>
          </div>
          <div>
            <a href="{% url 'reset_password' %}">Forgot password?</a>
          </div>
        </form>
        
      </div>
    </div>
  </div>
</section>
<script>
  /* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
//We start indexing at one because CSRF_token is considered and input field 
*/

  //Query All input fields
  var form_fields = document.getElementsByTagName("input");
  form_fields[1].placeholder = "Username..";
  form_fields[2].placeholder = "Enter password...";

  for (var field in form_fields) {
    form_fields[field].className += " form-control";
  }
</script>

{% endblock body %}
